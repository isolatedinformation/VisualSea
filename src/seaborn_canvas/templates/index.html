<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SeabornCanvas - No-Code Data Visualization</title>
    
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- JavaScript Dependencies -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="/static/js/app.js"></script>
</head>
<body class="bg-gray-100 min-h-screen p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-8 text-gray-800">SeabornCanvas</h1>
        <p class="text-center text-gray-600 mb-8">Transform your data into beautiful visualizations without writing code</p>

        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <form id="visualizationForm" class="space-y-6">
                <!-- File Upload -->
                <div>
                    <label for="file" class="block text-sm font-medium text-gray-700 mb-2">Upload Data File</label>
                    <input type="file" id="file" name="file" accept=".csv,.xlsx,.xls" 
                           class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 
                                  file:rounded-full file:border-0 file:text-sm file:font-semibold
                                  file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"/>
                    <p class="mt-1 text-sm text-gray-500">Supported formats: CSV, Excel (.xlsx, .xls)</p>
                </div>

                <!-- Plot Title -->
                <div>
                    <label for="plotTitle" class="block text-sm font-medium text-gray-700 mb-2">Plot Title</label>
                    <input type="text" id="plotTitle" name="plotTitle" placeholder="Enter plot title"
                           class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"/>
                </div>

                <!-- Visualization Options (initially hidden) -->
                <div id="visualizationOptions" class="hidden space-y-4">
                    <!-- Plot Type -->
                    <div>
                        <label for="plotType" class="block text-sm font-medium text-gray-700 mb-2">Plot Type</label>
                        <select id="plotType" name="plotType" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="line">Line Plot</option>
                            <option value="scatter">Scatter Plot</option>
                            <option value="bar">Bar Plot</option>
                        </select>
                    </div>

                    <!-- X-axis Column -->
                    <div>
                        <label for="xColumn" class="block text-sm font-medium text-gray-700 mb-2">X-axis Column</label>
                        <select id="xColumn" name="xColumn" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        </select>
                    </div>

                    <!-- Y-axis Columns -->
                    <div>
                        <label for="yColumns" class="block text-sm font-medium text-gray-700 mb-2">Y-axis Column(s)</label>
                        <select id="yColumns" name="yColumns" multiple class="mt-1 block w-full">
                        </select>
                    </div>

                    <!-- Line Styles Container (dynamically populated) -->
                    <div id="lineStylesContainer" class="space-y-4">
                        <!-- Line styles will be added here dynamically -->
                    </div>

                    <!-- Grid Style -->
                    <div>
                        <label for="gridStyle" class="block text-sm font-medium text-gray-700 mb-2">Grid Style</label>
                        <select id="gridStyle" name="gridStyle" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="darkgrid">Dark Grid</option>
                            <option value="whitegrid">White Grid</option>
                            <option value="dark">Dark</option>
                            <option value="white">White</option>
                            <option value="ticks">Ticks</option>
                        </select>
                    </div>

                    <!-- Color Scheme -->
                    <div>
                        <label for="colorScheme" class="block text-sm font-medium text-gray-700 mb-2">Color Scheme</label>
                        <select id="colorScheme" name="colorScheme" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="deep">Deep</option>
                            <option value="muted">Muted</option>
                            <option value="pastel">Pastel</option>
                            <option value="bright">Bright</option>
                            <option value="dark">Dark</option>
                            <option value="colorblind">Colorblind</option>
                        </select>
                    </div>

                    <!-- Scale Type -->
                    <div>
                        <label for="useLogScale" class="block text-sm font-medium text-gray-700 mb-2">Scale Type</label>
                        <select id="useLogScale" name="useLogScale" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="false">Linear</option>
                            <option value="true">Logarithmic</option>
                        </select>
                    </div>

                    <!-- Legend Position -->
                    <div>
                        <label for="legendPosition" class="block text-sm font-medium text-gray-700 mb-2">Legend Position</label>
                        <select id="legendPosition" name="legendPosition" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="best">Best</option>
                            <option value="upper right">Upper Right</option>
                            <option value="upper left">Upper Left</option>
                            <option value="lower right">Lower Right</option>
                            <option value="lower left">Lower Left</option>
                            <option value="none">None</option>
                        </select>
                    </div>

                    <!-- Submit Button -->
                    <div>
                        <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Generate Visualization
                        </button>
                    </div>
                </div>
            </form>
        </div>

        <!-- Plot Display -->
        <div id="plotContainer" class="hidden">
            <img id="plot" class="w-full rounded-lg shadow-lg" alt="Visualization"/>
        </div>
    </div>

    <!-- Line Style Template (hidden) -->
    <template id="lineStyleTemplate">
        <div class="line-style-config border rounded-lg p-4 mb-4">
            <h3 class="font-medium text-lg mb-3">Line <span class="line-number"></span> Settings</h3>
            
            <!-- Legend Label -->
            <div class="mb-3">
                <label class="block text-sm font-medium text-gray-700 mb-1">Legend Label</label>
                <input type="text" class="legend-label w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
                       placeholder="Enter legend label">
            </div>
            
            <!-- Line Style -->
            <div class="mb-3">
                <label class="block text-sm font-medium text-gray-700 mb-1">Line Style</label>
                <select class="line-style w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <option value="-">Solid</option>
                    <option value="--">Dashed</option>
                    <option value=":">Dotted</option>
                    <option value="-.">Dash-dot</option>
                </select>
            </div>
            
            <!-- Line Width -->
            <div class="mb-3">
                <label class="block text-sm font-medium text-gray-700 mb-1">Line Width</label>
                <input type="number" class="line-width w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
                       value="1.5" min="0.5" max="5" step="0.5">
            </div>
            
            <!-- Marker Style -->
            <div class="mb-3">
                <label class="block text-sm font-medium text-gray-700 mb-1">Marker Style</label>
                <select class="marker-style w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <option value="none">None</option>
                    <option value="o">Circle</option>
                    <option value="s">Square</option>
                    <option value="^">Triangle</option>
                    <option value="*">Star</option>
                    <option value="+">Plus</option>
                    <option value="x">X</option>
                    <option value="D">Diamond</option>
                </select>
            </div>
            
            <!-- Marker Size -->
            <div class="mb-3">
                <label class="block text-sm font-medium text-gray-700 mb-1">Marker Size</label>
                <input type="number" class="marker-size w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
                       value="6" min="1" max="20" step="1">
            </div>
        </div>
    </template>
</body>
</html>
